<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Cadastro Imobiliário</title>
    </h:head>
    <h:body>
        <ui:decorate template="/JanelaPrincipal.xhtml">
            <ui:define name="centro">
                <h:form>
                    <p:tabView>
                        <p:tab title="Dados gerais">
                            <h:panelGrid columns="4">
                                <p:fieldset legend="Inscrição">
                                    <h:panelGrid columns="4">
                                        Distrito:
                                        <p:selectOneMenu id="distrito" value="#{imovelMB.imovel.setorId.distritoId}" effect="fade" converter="distrito">
                                            <f:selectItems value="#{distritoMB.distritos}" var="distrito" itemLabel="#{distrito.descricao}" itemValue="#{distrito}" />
                                        </p:selectOneMenu>   
                                        Setor:
                                        <p:selectOneMenu id="setor" value="#{imovelMB.imovel.setorId}" effect="fade" converter="setor">
                                            <f:selectItems value="#{setorMB.setors}" var="setor" itemLabel="#{setor.descricao}" itemValue="#{setor}" />
                                        </p:selectOneMenu>   
                                    </h:panelGrid>
                                    <h:panelGrid columns="4">
                                        Natureza:
                                        <p:selectOneMenu id="natureza" value="#{imovelMB.imovel.naturezaId}" effect="fade" converter="natureza">
                                            <f:selectItems value="#{naturezaMB.naturezas}" var="natureza" itemLabel="#{natureza.descricao}" itemValue="#{natureza}" />
                                        </p:selectOneMenu> 
                                        Edificação:
                                        <p:selectOneMenu id="edificacao" value="#{imovelMB.imovel.edificacaoId}" effect="fade" converter="edificacao">
                                            <f:selectItems value="#{edificacaoMB.edificacaos}" var="edificacao" itemLabel="#{edificacao.descricao}" itemValue="#{edificacao}" />
                                        </p:selectOneMenu> 
                                    </h:panelGrid>
                                    <h:panelGrid columns="4">
                                        Quadra:<p:inputText/>
                                        Lote:<p:inputText/>
                                        Unidade:<p:inputText/>
                                    </h:panelGrid>

                                </p:fieldset>

                            </h:panelGrid>
                            <p:fieldset legend="Localização do Imóvel">
                                <h:panelGrid columns="4">
                                    Logradouro:
                                    <p:selectOneMenu id="logradouro" value="#{imovelMB.imovel.naturezaId}" effect="fade" converter="natureza">
                                        <f:selectItems value="#{naturezaMB.naturezas}" var="natureza" itemLabel="#{natureza.descricao}" itemValue="#{natureza}" />
                                    </p:selectOneMenu> 
                                    Seção:
                                    <p:selectOneMenu id="secao" value="#{imovelMB.imovel.naturezaId}" effect="fade" converter="natureza">
                                        <f:selectItems value="#{naturezaMB.naturezas}" var="natureza" itemLabel="#{natureza.descricao}" itemValue="#{natureza}" />
                                    </p:selectOneMenu> 
                                    Número:<p:inputText/>
                                    Bairro:<p:inputText/>
                                    Complemento:<p:inputText/>
                                    Loteamento:
                                    <p:selectOneMenu id="loteamento" value="#{imovelMB.imovel.naturezaId}" effect="fade" converter="natureza">
                                        <f:selectItems value="#{naturezaMB.naturezas}" var="natureza" itemLabel="#{natureza.descricao}" itemValue="#{natureza}" />
                                    </p:selectOneMenu> 
                                </h:panelGrid>
                            </p:fieldset>
                            <p:fieldset legend="Porprietário/End. correspondência">
                                <h:panelGrid columns="4">
                                    Contribuinte:
                                    <p:selectOneMenu id="contribuinte" value="#{imovelMB.imovel.naturezaId}" effect="fade" converter="natureza">
                                        <f:selectItems value="#{naturezaMB.naturezas}" var="natureza" itemLabel="#{natureza.descricao}" itemValue="#{natureza}" />
                                    </p:selectOneMenu> 
                                    Usar endereçao:
                                    <p:selectOneMenu id="usaendereco" value="#{contribuinteMB.contribuinte.tipo}" style="width:200px">
                                        <f:selectItem itemLabel="Selecionar" itemValue="" />
                                        <f:selectItem itemLabel="Endereço do Contribuinte" itemValue="1" />
                                        <f:selectItem itemLabel="Endereço abaixo" itemValue="2" />
                                    </p:selectOneMenu>
                                </h:panelGrid>
                                <h:panelGrid columns="4">
                                    Tipo do Lograd:<p:inputText/>
                                    Endereço:<p:inputText/>
                                    Nº:<p:inputText/>
                                    Bairro:<p:inputText title="Bairro para correspondência"/>
                                </h:panelGrid>
                                <h:panelGrid columns="6">
                                    Cidade:<p:inputText/>
                                    CEP:<p:inputText/>
                                    Complemento:<p:inputText/>
                                </h:panelGrid>
                            </p:fieldset>
                        </p:tab>
                        <p:tab title="Dados do imóvel/terreno">
                            <h:panelGrid columns="3">
                                <p:fieldset legend="Informações do TERRENO">
                                    <h:panelGrid columns="2">
                                        Situação:
                                        <p:selectOneMenu id="situacao" value="#{imovelMB.imovel.naturezaId}" effect="fade" converter="natureza">
                                            <f:selectItems value="#{naturezaMB.naturezas}" var="natureza" itemLabel="#{natureza.descricao}" itemValue="#{natureza}" />
                                        </p:selectOneMenu> 
                                        Topografia:
                                        <p:selectOneMenu id="topografia" value="#{imovelMB.imovel.naturezaId}" effect="fade" converter="natureza">
                                            <f:selectItems value="#{naturezaMB.naturezas}" var="natureza" itemLabel="#{natureza.descricao}" itemValue="#{natureza}" />
                                        </p:selectOneMenu> 
                                        Pedologia:
                                        <p:selectOneMenu id="pedologia" value="#{imovelMB.imovel.naturezaId}" effect="fade" converter="natureza">
                                            <f:selectItems value="#{naturezaMB.naturezas}" var="natureza" itemLabel="#{natureza.descricao}" itemValue="#{natureza}" />
                                        </p:selectOneMenu> 
                                        Posicionamento:
                                        <p:selectOneMenu id="posicionamento" value="#{imovelMB.imovel.naturezaId}" effect="fade" converter="natureza">
                                            <f:selectItems value="#{naturezaMB.naturezas}" var="natureza" itemLabel="#{natureza.descricao}" itemValue="#{natureza}" />
                                        </p:selectOneMenu> 
                                    </h:panelGrid>
                                </p:fieldset>

                                <p:fieldset legend="Informações da EDIFICAÇÃO">
                                    <h:panelGrid columns="2">
                                        Ocupação/estrut:
                                        <p:selectOneMenu id="estrutura" value="#{imovelMB.imovel.naturezaId}" effect="fade" converter="natureza">
                                        <f:selectItems value="#{naturezaMB.naturezas}" var="natureza" itemLabel="#{natureza.descricao}" itemValue="#{natureza}" />
                                    </p:selectOneMenu> 
                                        Patrimônio:
                                        <p:selectOneMenu id="patrimonio" value="#{imovelMB.imovel.naturezaId}" effect="fade" converter="natureza">
                                        <f:selectItems value="#{naturezaMB.naturezas}" var="natureza" itemLabel="#{natureza.descricao}" itemValue="#{natureza}" />
                                    </p:selectOneMenu> 
                                        Utilização:
                                        <p:selectOneMenu id="utilizacao" value="#{imovelMB.imovel.naturezaId}" effect="fade" converter="natureza">
                                        <f:selectItems value="#{naturezaMB.naturezas}" var="natureza" itemLabel="#{natureza.descricao}" itemValue="#{natureza}" />
                                    </p:selectOneMenu> 
                                        Limitação:
                                        <p:selectOneMenu id="limitacao" value="#{imovelMB.imovel.naturezaId}" effect="fade" converter="natureza">
                                        <f:selectItems value="#{naturezaMB.naturezas}" var="natureza" itemLabel="#{natureza.descricao}" itemValue="#{natureza}" />
                                    </p:selectOneMenu> 
                                    </h:panelGrid>
                                </p:fieldset>
                                <p:fieldset legend="Isenções">
                                    <h:panelGrid columns="2">
                                        Isenção de IPTU:
                                        <p:selectOneMenu id="isencaoiptu" value="#{imovelMB.imovel.naturezaId}" effect="fade" converter="natureza">
                                        <f:selectItems value="#{naturezaMB.naturezas}" var="natureza" itemLabel="#{natureza.descricao}" itemValue="#{natureza}" />
                                    </p:selectOneMenu> 
                                        Isençao TSU:
                                        <p:selectOneMenu id="isencaotsu" value="#{imovelMB.imovel.naturezaId}" effect="fade" converter="natureza">
                                        <f:selectItems value="#{naturezaMB.naturezas}" var="natureza" itemLabel="#{natureza.descricao}" itemValue="#{natureza}" />
                                    </p:selectOneMenu> 
                                    </h:panelGrid>
                                </p:fieldset>
                            </h:panelGrid>
                            <p:fieldset legend="Medidas do Imóvel">
                                <h:panelGrid columns="4">
                                    <p:fieldset>
                                        <h:panelGrid columns="2">
                                            Testada Principal:<p:inputText/>
                                            Área do lote:<p:inputText/>
                                            Área total construída:<p:inputText/>
                                        </h:panelGrid>
                                    </p:fieldset>
                                    <p:fieldset>
                                        <h:panelGrid columns="2">
                                            Profundidade:<p:inputText/>
                                            Área total construída:<p:inputText/>
                                            Nº de Pavimentos:<p:inputText/>
                                        </h:panelGrid>
                                    </p:fieldset>
                                </h:panelGrid>
                            </p:fieldset>
                        </p:tab>
                        <p:tab title="IPTU">

                        </p:tab>
                    </p:tabView>
                </h:form>
                <p:separator/>
                <p:dataTable id="tabelaImoveis" value="#{imovelMB.imovels}" emptyMessage="Não há registros" var="imovel" paginator="true" rows="5"
                             selectionMode="single" rowKey="#{imovel.id}"> 
                    <f:facet name="header">
                        <h:outputText value="Imóveis cadastrados"/>
                    </f:facet>
                    <p:column headerText="Nome Proprietário" filterBy="#{imovel.contribuinteId.nome}" filterMatchMode="contains"> 
                        <h:outputText value="#{imovel.contribuinteId.nome}"/> 
                    </p:column> 
                    <p:column headerText="Setor" filterBy="#{imovel.setorId.descricao}" filterMatchMode="contains"> 
                        <h:outputText value="#{imovel.setorId.descricao}"/> 
                    </p:column>
                    <p:column headerText="Distrito" filterBy="#{imovel.setorId.distritoId.descricao}" filterMatchMode="contains"> 
                        <h:outputText value="#{imovel.setorId.distritoId.descricao}"/> 
                    </p:column>
                </p:dataTable> 
            </ui:define>
        </ui:decorate>
    </h:body>
</html>

